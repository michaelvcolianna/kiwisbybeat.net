---
const { href } = Astro.props

const pathname = new URL(Astro.request.url).pathname
const isCurrent = pathname === href
---

<a
  href={href}
  aria-current={isCurrent ? 'page' : null}
  class="internal-link"
>
  <slot />
</a>

<style lang="scss">
.internal-link {
  align-items: center;
    display: flex;
    height: 3rem;
    justify-content: center;
    padding: 0 1rem;
    position: relative;

    &[aria-current="page"] {
      font-weight: bold;

      &::before {
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath d='M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z'/%3E%3C/svg%3E");
        content: '';
        height: 1rem;
        left: 0;
        position: absolute;
        transform: scale(0.75);
        width: 1rem;
      }
  }
}
</style>
